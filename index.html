<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGnPJXJJCEeXY6VvQeu_l1kbQez9qKceo"></script>
    <script src="./js/warningcode.js" type="text/javascript"></script>
    <script src="./js/suncalc.js" type="text/javascript"></script>
    <script src="./js/api.js" type="text/javascript"></script>
    <script src="./js/jquery-3.6.0.min.js" type="text/javascript"></script>
    <script src="./js/sweetalert2.all.min.js" type="text/javascript"></script>
    <script src="./js/weathercode.js" type="text/javascript"></script>
    <script src="./js/switch.js" type="text/javascript"></script>
    <script src="./js/view.js" type="text/javascript"></script>
    <script src="./js/re.js" type="text/javascript"></script>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/table.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./img/favicon/favicon-16x16.png">
    <link rel="manifest" href="./img/favicon/site.webmanifest">
    <link rel="mask-icon" href="./img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#5588cc">
    <title>ドライバー向け情報案内-エネフリ東広島西条店-</title>

    <!---->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Mochiy+Pop+P+One&family=Reggae+One&family=Train+One&display=swap" rel="stylesheet">
</head>

<body id="click">
    <div class="container">
        <div class="title">
            <h1>運転手さん向け情報案内</h1>
            <span id="view_clock"></span>
            <script type="text/javascript">
                let flg = false;
                timerID = setInterval('clock()', 500); //0.5秒毎にclock()を実行

                function clock() {
                    document.getElementById("view_clock").innerHTML = getNow();
                    isSmartPhone();
                }

                function getNow() {
                    let now = new Date();
                    let year = now.getFullYear();
                    let mon = now.getMonth() + 1; //１を足すこと
                    let day = now.getDate();
                    let hour = now.getHours();
                    let min = now.getMinutes();
                    let sec = now.getSeconds();

                    if (min <= 9) {
                        min = "0" + min
                        flg = false
                    }
                    if (min == "59" && flg == false && sec == "57") {
                        plays(1);
                        flg = true;

                    }
                    //出力用
                    var s = '<div class="date">' + year + "年" + mon + "月" + day + "日" + '</div><div class="times">' + hour + "時" + min + "分" + '</div>';
                    return s;
                }
            </script>

        </div>
        <div class="box">
            <div class="contents1">
                <div class="subtitle">
                    <div class="h2">天気予報三日間</div>
                    <div class="average">平年気温
                        <div id="max">0.0℃</div>
                        /
                        <div id="low">0.0℃</div>
                    </div>
                </div>
                <div class="weather3days">
                    <div class="box2">
                        <div class="day">
                            今日(
                            <div id="today">
                                ---
                            </div>
                            )
                        </div>
                        <img src="./img/wait.png" id="icon1">
                        <div class="temp">
                            <div id="max1">-℃</div>
                            /
                            <div id="low1">-℃</div>
                        </div>


                    </div>
                    <div class="box2">
                        <div class="day">
                            明日(
                            <div id="tomorrow">
                                ---
                            </div>
                            )
                        </div>
                        <img src="./img/wait.png" id="icon2">
                        <div class="temp">
                            <div id="max2">-℃</div>
                            /
                            <div id="low2">-℃</div>
                        </div>

                    </div>
                    <div class="box2">
                        <div class="day">
                            明後日(
                            <div id="day_after_tomorrow">
                                ---
                            </div>
                            )
                        </div>
                        <img src="./img/wait.png" id="icon3">
                        <div class="temp">
                            <div id="max3">-℃</div>
                            /
                            <div id="low3">-℃</div>
                        </div>

                    </div>
                </div>
                <div class="footer">
                    <div class="publishing">
                        広島地方気象台
                        <div id="todays">00</div>
                        日
                        <div id="publishingtime">00:00</div>発表
                    </div>
                </div>
            </div>
            <div class="contents2">
                <div class="subtitle">
                    <div class="h2">今日の天気</div>
                    <div id="todays3">

                    </div>
                </div>
                <div class="box3">
                    <div class="view">
                        <img src="./img/wait.png" id="icon4">
                        <div class="temp">
                            <div id="max4">-℃</div>
                            /
                            <div id="low4">-℃</div>
                        </div>
                    </div>
                    <div class="moji">
                        <span id="texts">
                            取得中....
                        </span>
                        <div class="icoms">
                            <div class="icom">
                                <img src="./img/pop.svg">
                                <div id="pop">
                                    調整中...
                                </div>
                            </div>
                            <div class="icom">
                                <img src="./img/wind.svg">
                                <div id="wind">
                                    調整中...
                                </div>
                            </div>
                            <div class="icom">
                                <img src="./img/wave.svg">
                                <div id="wave">
                                    調整中...</div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="publishing">
                        広島地方気象台
                        <div id="todays2">00</div>
                        日
                        <div id="publishingtime2">00:00</div>発表
                    </div>
                </div>
            </div>
            <div class="contents3">
                <div class="subtitle">
                    <div class="h2">1週間の天気</div>
                </div>
                <table id="table">
                    <tr>
                        <td></td>
                        <td>今日</td>
                        <td>明日</td>
                        <td>明後日</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>天気</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>降水確率</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>気温</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>
                </table>
                <div class="footer">
                    <div class="publishing">
                        広島地方気象台
                        <div id="todays4">00</div>
                        日
                        <div id="publishingtime4">00:00</div>発表
                    </div>
                </div>
            </div>
            <div class="contents4">
                <div class="subtitle">
                    <div class="h2">
                        <div class="red">警報</div>・
                        <div class="yellow">注意報</div>　-東広島-</div>
                </div>
                <div class="warning_none">
                    発表警報・注意報はなし
                </div>
                <div id="warning">

                </div>
                <div id="warning_text">
                    取得中...
                </div>
                <div class="footer">
                    <div class="publishing">
                        広島地方気象台
                        <div id="todays5">00</div>
                        日
                        <div id="publishingtime5">00:00</div>発表
                    </div>
                </div>

            </div>
            <div class="contents5">
                <div class="subtitle">
                    <div class="h2">国道二号線交通状況</div>
                    <div class="copylight">
                        <div class="google">©Google　</div>
                        <div id="todays6">
                            00時00分時点
                        </div>
                    </div>


                </div>
                <div class="toblock">
                    <div class="tohiroshima">
                        <h3>広島方面</h3>
                        <p>広島市役所まで</p>
                        <div id="hiroshimatime">
                            -時間-分
                        </div>
                        <div id="hiroshimadelay">
                            (-)
                        </div>
                    </div>

                    <div class="tofukuyama">
                        <h3>福山方面</h3>
                        <p>福山駅まで</p>
                        <div id="fukuyamatime">
                            -時間-分
                        </div>
                        <div id="fukuyamadelay">
                            (+)
                        </div>
                    </div>
                </div>
                <div class="info">
                    (　)内の数字は通常の到着時間との差分です。　※広島方面は西条バイパス経由です。<br>※この時刻は目安です。実際の交通状況によっては早くもしくは遅く到着する場合があります。
                </div>

            </div>
            <div class="contents6">
                <div class="subtitle">
                    <div class="h2">日の出・日の入り時刻</div>
                </div>
                <div class="sumtime">
                    <img src="./img/sumout.png">
                    <div class="sumtimes">
                        日の出
                        <div id="sumtimeout">
                            00:00
                        </div>
                    </div>
                    <img src="./img/sumin.png">
                    <div class="sumtimes">
                        日の入り
                        <div id="sumtimein">
                            00:00
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
    <div class="user">管理者: エネクスフリート(株)東広島西条店 従業員コード22709</div>
    <img src="./img/back.png" class="look">
</body>
<script>
    //ロック機能 パスワード
    const pass = "293832"
    Swal.fire({
        icon: 'error',
        title: '利用にはパスワードが必要です',
        input: 'password',
        inputAttributes: {
            autocapitalize: 'off'
        },
        footer: "ドライバー向け情報案内<br>パスワードはプリンターに記載<br>（API使用につき利用制限）",
        confirmButtonText: 'ログイン',
        showLoaderOnConfirm: true,
        showCancelButton: false,
        backdrop: false,
        preConfirm: (login) => {
            if (login == pass) {
                $('.look').css('display', 'none');
            } else {
                if (login != "") {
                    Swal.showValidationMessage(
                        'パスワードが違います: ' + login
                    )
                } else {
                    Swal.showValidationMessage(
                        'パスワードを入力してください')
                }
            }
        },
    }).then((result) => {
        if (result.isConfirmed) {
            start();
            plays(2);
            Swal.fire({
                icon: 'success',
                title: '承認しました',
            }).then((result) => {
                //初回起動コード！！！
                //!!!!!!!!!!
                //!!!!!!!!!
                setTimeout(() => {
                    document.getElementById("click").onclick = function(event) {
                        var x = event.pageX; // 水平の位置座標
                        var y = event.pageY; // 垂直の位置座標
                        if (x > screen.width / 2) {
                            //console.log("右")
                            switchs();
                        } else {
                            //console.log("左")
                            switchs("before");
                        }
                    }

                }, 1000);

            })
            document.body.requestFullscreen();
        }
    })
</script>

</html>